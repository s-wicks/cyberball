<template>
  <style>
    .throw,
    .thrower {
      border: solid;
      padding: 1rem;
    }

    .thrower {
      display: inline-block;
    }

    .thrower-list {
      white-space: nowrap;
      overflow: auto;
    }
  </style>

  <div class="throw-list">
    <div class="throw" repeat.for="throw_block of throw_data">
      <button click.trigger="addThrower(throw_block)">Add thrower</button>
      <button click.trigger="removeThrow($index)">X</button>
      <div class="thrower-list">
        <div class="thrower" repeat.for="throw_group of throw_block.throw_groups">
          <button click.trigger="removeThrower(throw_block, $index)">X</button>
          <div>
            <span>Throwers:</span>
            <template repeat.for="thrower of throwers">
              <input type="checkbox" checked.bind="throw_group.throwers[$index]"/>
              <label>${thrower}</label>
            </template>
          </div>
          <div>
            <span>Target:</span>
            <select value.bind="throw_group.target">
              <option model.bind="-1">Choose a target</option>
              <option repeat.for="thrower of throwers" model.bind="$index">${thrower}</option>
              <option model.bind="-2">any</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button click.trigger="addThrow()">Add empty throw</button>
  <button disabled.bind="!canThrowToSingleCPU" click.trigger="showModal($event)">Throw to single CPU</button>
  <dialog><form method="dialog">
    Temp
  </form></dialog>
  <button disabled.bind="!canFunnelToCPU" click.trigger="showModal($event)">Funnel to single CPU (2 throws)</button>
  <dialog><form method="dialog">
    Temp
  </form></dialog>
  <button disabled.bind="!canThrowToPlayer" click.trigger="showModal($event)">Throw to Player</button>
  <dialog><form method="dialog">
    Temp
  </form></dialog>




</template>